<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Employee Dashboard</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-p2SRgsDW1JbF2GsvHDv5z5fCrDsfX+xJeR02LfZwP4KjbJ4CpZ5p1azSfzM11tEJv54pN6p6LEIoMRkgSpXahQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="m-0 p-0 font-sans bg-gray-100 flex h-screen">

    <!-- Sidebar -->
    <aside class="bg-white w-64 h-full p-5 shadow-lg space-y-5">
        <!-- Employee Profile Section -->
        <div class="flex lg:flex-1">
            <a href="/" class="-m-1.5 p-1.5 flex">
                <span class="sr-only">HRSuite</span>
                <img class="h-8 w-auto" src="https://icon.icepanel.io/Technology/svg/Tailwind-CSS.svg" alt="">
                <h1 class="text-3xl font-bold text-primary">HR SUITE</h1>
            </a>
        </div>
        <p class="text-muted-foreground">We take care of you as you take care of business</p>
        <hr class="mt-3">
        <nav class="mt-5">

            <div class="flex flex-col items-center text-center">
                <img src="<%= '/uploads/' + userId + '.jpeg' %>" alt="Employee Profile Picture" class="w-24 h-24 rounded-full mb-2" onerror="this.onerror=null; this.src=this.src.replace('.jpeg', '.jpg');">
                <h3 class="text-lg font-bold">
                    <%= username %>
                </h3>
                <p class="text-sm text-gray-500">Employee ID: <%= userId %></p>
                <div class="mb-4"></div> <!-- Added space below Employee ID -->
            </div>

            <!-- Sidebar Navigation Menu -->
            <nav>
                <ul class="space-y-2">
                    <a href="/employee-dashboard" class="menu-item" data-section="employee-dashboard">
                        <li class="flex items-center space-x-2 p-2 rounded-lg cursor-pointer hover:bg-blue-50 transition-colors duration-300">
                            <span class="material-symbols-outlined">dashboard</span>
                            <span>Dashboard</span>
                        </li>
                    </a>
                    <a href="/employee-dashboard/task" class="menu-item" data-section="task">
                        <li class="flex items-center space-x-2 p-2 rounded-lg cursor-pointer hover:bg-blue-50 transition-colors duration-300">
                            <span class="material-symbols-outlined">task</span>
                            <span>Task</span>
                        </li>
                    </a>
                    <a href="/employee-dashboard/payroll" class="menu-item" data-section="payroll">
                        <li class="flex items-center space-x-2 p-2 rounded-lg cursor-pointer hover:bg-blue-50 transition-colors duration-300">
                            <span class="material-symbols-outlined">receipt_long</span>
                            <span>Payroll</span>
                        </li>
                    </a>
                    <a href="/employee-dashboard/attendance" class="menu-item" data-section="attendance">
                        <li class="flex items-center space-x-2 p-2 rounded-lg cursor-pointer hover:bg-blue-50 transition-colors duration-300">
                            <span class="material-symbols-outlined">how_to_reg</span>
                            <span>Attendance</span>
                        </li>
                    </a>
                    <a href="/employee-dashboard/leaveRequest" class="menu-item" data-section="leaveRequest">
                        <li class="flex items-center space-x-2 p-2 rounded-lg cursor-pointer hover:bg-blue-50 transition-colors duration-300">
                            <span class="material-symbols-outlined">door_open</span>
                            <span>Leave Requests</span>
                        </li>
                    </a>
                    <a href="/employee-dashboard/settings" class="menu-item" data-section="settings">
                        <li class="flex items-center space-x-2 p-2 rounded-lg cursor-pointer hover:bg-blue-50 transition-colors duration-300">
                            <span class="material-symbols-outlined">settings</span>
                            <span>Settings</span>
                        </li>
                    </a>
                </ul>
            </nav>

            <div class="mt-10 p-2 bg-blue-500 text-white rounded-lg text-center cursor-pointer">
                <a href="/employee-logout" class="text-white">
                    Logout
                </a>
            </div>
        </nav>
    </aside>

    <script>
        // Highlight the active menu item
        const currentPage = window.location.pathname.split('/').pop(); // Get the current page
        const menuItems = document.querySelectorAll('.menu-item');

        menuItems.forEach(item => {
            const section = item.getAttribute('data-section');
            if (currentPage === section) {
                item.querySelector('li').classList.add('bg-blue-100'); // Add background color for active item
            } else {
                item.querySelector('li').classList.remove('bg-blue-100'); // Remove background color for inactive items
            }
        });
    </script>
</body>

</html>
